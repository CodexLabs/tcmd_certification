<!doctype html>  
<html>
	<head>
		<meta charset="utf-8">
		<title class="l_labname">Lab - API Deep Dive - TableView</title>
		<meta name="description" content="Advanced Titanium Mobile Development, Advanced UI Development">
    	<meta name="author" content="Appcelerator, Inc." />
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/reset.css">
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/main.css">
		<link rel="stylesheet" href="../css/magula.css">
		<link rel="stylesheet" href="../css/presentation.css">
		<script type="text/javascript" src="../../presentation-engine/js/l10n.js"></script>
		<script type="text/javascript" src="i18n/lablocalizations.js"></script>
		<style>
		html, body {
			overflow: always !important;
		}
		.slides {
			top: 40% !important;
		}
		</style>
		<script>
		function loadStyleSheet(url){
		    if(document.createStyleSheet) {
		        try {document.createStyleSheet(url);} catch (e) { }
		    }
		    else{
		        var css;
		        css         = document.createElement('link');
		        css.rel     = 'stylesheet';
		        css.type    = 'text/css';
		        css.media   = "all";
		        css.href    = url;
		        document.getElementsByTagName("head")[0].appendChild(css);
		    }
		}
		var browserlang = document.documentElement.lang || String.locale || 'en-US';
		loadStyleSheet('../css/'+browserlang+'.css');
		</script>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/print.css" media="print">
	</head>
	
	<body>
		<div id="reveal">	
			<!-- Any section element inside of this container is displayed as a slide -->

			<!--
				LAB FILE INSTRUCTIONS:
					- Set the <title> tag to this lesson's US English title
					- Set the <meta description tag to the US English course & lesson title
					- Add one <section></section> for each slide. Slides can contain most any valid HTML
					- Each text tag (<p> or <li> or <h1> etc.) must have a class name that begins with
						"l_" and is unique. Each of those class names must be added to the i18n/localizations.js
						file and their values must be set equal to the US English version of the strings. That 
						file is used for translation and its contents OVERRIDES the text in this file.
					- Each slide must have a <div class="slidenote"></div> container, which can be empty. These
						are used for presenter notes. They also must be given unique "l_" classnames and strings
						provided in the localizations.js file.
					- Please use inline CSS on the slides to size & arrange contents.
					- Graphics should be placed in the images folder and cropped/sized appropriately.
					- Assume a 1024 x 768 display resolution
					- A link to the index.html for each lesson must be added in order to the coursename/index.html
						title slide.
			-->
			
			
<div class="slides">
<div id="labwrapper">			
<section>

<!-- YOUR LAB CONTENT GOES HERE -->
<h1 class="l_labname">Lab: API Deep Dive - TableView</h1>
<p class="l_mission"><img src='https://wiki.appcelerator.org/download/attachments/14090413/Screenshot_12.png?version=1&modificationDate=1308316394000' style='height:300px;float:right;margin-top:-40px;margin-bottom: 10px;'><img src='https://wiki.appcelerator.org/download/attachments/14090413/Screenshot_13.png?version=1&modificationDate=1308316403000' style='height:300px;float:right;margin-top:-40px;margin-bottom: 10px;'><strong>Mission: </strong>In this lab assignment, you will implement a customized TableView.</p>

<p class="l_specification"><strong>Specification: </strong>Download the starting point code linked to in Step 1 below. The archive includes the necessary graphics. In this lab assignment, you will create a custom table that doesn’t fill the entire viewport. The table will contain customized rows with background images that differ based on the row’s location within the table. Each row will contain two images and two labels. When you tap a row, an event listener will determine if either of the images was the object that received the tap. If so, that image will be swapped with an alternate graphic.</p>

<table>
	<tr>
		<td colspan="2" class="labinstructions l_labstep1">1. Download the starting point files from <a href='http://assets.appcelerator.com.s3.amazonaws.com/app_u/code/320.zip'>http://assets.appcelerator.com.s3.amazonaws.com/app_u/code/320.zip</a>. Extract the archive, then import it into Studio as an existing Titanium project.</td>
	</tr>
	<tr>
		<td class="tdfiller"><!-- leave empty--></td>
		<td class="labexplanations l_labstepexplanation1"></td>
	</tr>
	<tr>
		<td colspan="2" class="labinstructions l_labstep2">2. Following the comments included in the starting app.js file, add these elements to the app:<br/><ul style='margin-left:20px;'><li>Set the window background to images/gradientBackground.png</li><li>Add a page heading of “Custom Table” with a dark blue, 18 px, bold font that is positioned at the top-left of the window</li><li>Define a table that is positioned below the label and which is 90% of the width of the screen and 85% of its height. Set the table’s background color to transparent and for iOS, set the separator style to NONE.</li></ul></td>
	</tr>
	<tr>
		<td class="tdfiller"><!-- leave empty--></td>
		<td class="labexplanations l_labstepexplanation2"></td>
	</tr>
<tr>
	<td colspan="2" class="labinstructions l_labstep3">3. Write a CommonJS module following the specifications included in the comments within the code.<br/><ul><li>Your module should instantiate and return a new table row object.</li><li>Your module's constructor should accept an object that will be used to pass in four values: the row number, primary label text, secondary label text, and a custom “which image” indicator string. Possible values for the row number parameter will be an integer or the string ‘last’. Possible values for the myImage string property will be a, b, c, blue, and red. You’ll use this myImage property to determine which element in the row is tapped and to swap images accordingly.</li><li>Each row should contain two images:<ul><li>Left image: if an even-numbered row = ‘images/imageA.png’ otherwise ‘images/imageB.png’. It should have a custom property named myImage that is set equal to the myImage parameter passed to your constructor function at run time.</li><li>Right image: use ‘images/notificationBadge.png’ and set its custom myImage property equal to ‘blue’</li></ul></li><li>Each row should contain two labels:<ul><li>Primary label: use a bold, 16 px font positioned to the right of the left image with its text set equal to the primary label parameter passed to the constructor at run time. Be sure to set a height for the label.</li><li>Secondary label: use a bold, 13 px font positioned below the primary label with its text set equal to the secondary label parameter passed to the constructor at run time. Be sure to set a height for the label.</li></ul></li><li>Each row’s background image should be set to ‘images/middleRow.png’ and the selected background image to ‘images/middleRowSelected.png’. If the row number parameter is 0, set the row’s background image to ‘images/topRow.png’ and selected background image to ‘images/topRowSelected.png’. If the row number parameter equals ‘last’ then use ‘images/bottomRow.png’ and ‘images/bottomRowSelected.png’ for the background images and use ‘images/imageC.png’ for the left image.</li></ul></td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation3"></td>
</tr>
<tr>
	<td colspan="2" class="labinstructions l_labstep4">4. Require in your custom row module. Then, use a for-loop to create an array of 8 rows for your table, instantiating a new custom row object in each iteration of the loop. Set the primary label to “This is row” plus the row-number indicator. Set the secondary label to “Subtitle” and the row-number indicator. Set the myImage value to either ‘a’ or ‘b’ depending on whether your loop counter is odd or even. (Hint: use the modulus operator, %, to calculate this odd/even value.)
	Push one additional custom row into the rows array. This row should pass these values:<br/><ul><li>row number: ‘last’</li><li>primary label: ‘This is the last row’</li><li>secondary label: ‘The last subtitle’</li><li>myImage: ‘c’</li></ul></td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation4"></td>
</tr>
<tr>
	<td colspan="2" class="labinstructions l_labstep5">5. Add a click event listener to your table. Check the myImage property of the event source. Using a switch or if-else test, determine if myImage is set equal to a, b, c, blue, or red. If a, b, or c, swap the left image such that imageA becomes imageB, imageB becomes imageC, and imageC becomes imageA again. If the myImage property equals blue, the right image should change to images/notificationUnreadBadge.png otherwise it should swap back to images/notificationBadge.png.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation5"></td>
</tr>
<tr>
	<td colspan="2" class="labinstructions l_labstep6">6. When you're done, build the project for either the iOS Simulator or Android emulator. Correct any code mistakes, if necessary. Confirm that your event listener functions properly:<br/><ul><li>When the row is tapped, the background image should swap to the green “selected” version.</li><li>If the left image is tapped, the letter should advance to the next letter, looping back to the beginning properly.</li><li>If the right image is tapped, it should swap between the red and blue versions properly.</li></ul></td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation6"></td>
</tr>
</table>

<h2 class="l_summary">Summary</h2>
<p class="l_summarypara">When completed, your app should match what is shown in this movie: <a href='http://assets.appcelerator.com.s3.amazonaws.com/video/320.mov'>http://assets.appcelerator.com.s3.amazonaws.com/video/320.mov</a></p>

<h2 class="l_resources">Resources</h2>

<ul>
	<li class="l_resources1">TableView API docs: http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.UI.TableView-object</li>
	<li class="l_resources2">TableViewRow API docs: http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.UI.TableViewRow-object</li>
	<li class="l_resources3">Kitchen Sink code: https://github.com/appcelerator/KitchenSink</li>
	<li class="l_resources4">Finished code: http://assets.appcelerator.com.s3.amazonaws.com/app_u/code/320-finished.zip</li>
</ul>


<!-- MAKE NO CHANGES BELOW THIS LINE -->
</section>
</div>
</div>

			<!-- Appc logo and presenter notes -->
			<div id="appclogo"><a href="../index.html"><img src="../images/appu_thumb.png"/></a></div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="../../presentation-engine/reveal.js/js/reveal.js"></script>
		<script src="../../presentation-engine/reveal.js/lib/highlight.js"></script>
		<script>
			// Parse the query string into a key/value object
			var query = {};
			location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
				query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
			} );

			Reveal.initialize({
				// Display controls in the bottom right corner
				controls: true,

				// Display a presentation progress bar
				progress: true,

				// If true; each slide will be pushed to the browser history
				history: true,

				// Flags if mouse wheel navigation should be enabled
				mouseWheel: true,

				// Apply a 3D roll to links on hover
				rollingLinks: true,

				// UI style
				theme: query.theme || 'default', // default/neon

				// Transition style
				transition: query.transition || 'default' // default/cube/page/concave/linear(2d)
			});

			hljs.initHighlightingOnLoad();
		</script>
		<script src="../../presentation-engine/js/localize.js"></script>
		<script>
		var s = (function load(){
			var s = {};
			if(window.outerHeight){
				s = { w: window.outerWidth, h: window.outerHeight};
			}
			else {
				s = { w: document.body.clientWidth, h: document.body.clientHeight};
			}
			return s;
		})();
		if(s.w < 1000 || s.h < 800) {
			var slides = document.querySelectorAll( '#reveal .slides' );
			for( var i = 0, len = slides.length; i < len; i++ ) {
				slides[i].classList.add( 'smallscreen' );
		    }
		}
		</script>
	</body>
</html>
